{"ast":null,"code":"import { initializeApp } from \"firebase/app\";\nimport { getFirestore, collection, addDoc, onSnapshot, query, where, getDocs, deleteDoc } from \"firebase/firestore\";\n\n// Firebase configuration object\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDnqFstg7haG60B6vUWbn7hvAFFs5fjSZw\",\n  authDomain: \"fir-d784c.firebaseapp.com\",\n  projectId: \"fir-d784c\",\n  storageBucket: \"fir-d784c.appspot.com\",\n  messagingSenderId: \"1081359533358\",\n  appId: \"1:1081359533358:web:50c99e54ab365991ebe6bf\"\n};\n\n// const app = initializeApp(firebaseConfig);\n// const db = getFirestore(app);\n\n// const colref = collection(db, 'users');\n\n// document.addEventListener('DOMContentLoaded', () => {\n//     const form = document.getElementById('dataForm');\n//     if (form) {\n//         form.addEventListener('submit',  (e) => {\n//             e.preventDefault();\n//             const name = document.getElementById('name').value;\n//             const age = document.getElementById('age').value;\n//             try {\n//                  addDoc(colref, { name, age });\n//                 alert('Data added successfully!');\n//                 form.reset();\n//             } catch (error) {\n//                 console.error(\"Error adding document: \", error);\n//             }\n//         });\n//     }\n// });\n\nconst app = initializeApp(firebaseConfig);\nconst db = getFirestore(app);\nconst colref = collection(db, 'users');\ndocument.addEventListener('DOMContentLoaded', () => {\n  const form = document.getElementById('dataForm');\n  const userListElement = document.getElementById('userList');\n  const deleteForm = document.getElementById('deleteForm');\n  if (form) {\n    form.addEventListener('submit', e => {\n      e.preventDefault();\n      const name = document.getElementById('name').value;\n      const age = document.getElementById('age').value;\n      try {\n        addDoc(colref, {\n          name,\n          age\n        });\n        alert('form added success');\n        form.reset();\n      } catch (error) {\n        console.error(\"Error adding document: \", error);\n      }\n    });\n  }\n  if (userListElement) {\n    onSnapshot(colref, snapshot => {\n      const users = snapshot.docs.map(doc => `<p>${doc.data().name} - ${doc.data().age}</p>`);\n      document.getElementById('userList').innerHTML = users;\n    });\n  }\n  if (deleteForm) {\n    deleteForm.addEventListener('submit', e => {\n      e.preventDefault();\n      const nameToDelete = document.getElementById('deleteName').value;\n      try {\n        const q = query(colref, where('name', \"==\".nameToDelete));\n        const querySnapshot = getDocs(q);\n        querySnapshot.forEach(doc => {\n          deleteDoc(doc.ref);\n        });\n        alert('Data deleted successfully!');\n        deleteForm.reset();\n      } catch (error) {}\n    });\n  }\n});","map":{"version":3,"names":["initializeApp","getFirestore","collection","addDoc","onSnapshot","query","where","getDocs","deleteDoc","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","app","db","colref","document","addEventListener","form","getElementById","userListElement","deleteForm","e","preventDefault","name","value","age","alert","reset","error","console","snapshot","users","docs","map","doc","data","innerHTML","nameToDelete","q","querySnapshot","forEach","ref"],"sources":["C:/Users/kishore/demo/src/index.js"],"sourcesContent":["import { initializeApp } from \"firebase/app\";\nimport { getFirestore, collection, addDoc,onSnapshot,query, where, getDocs, deleteDoc } from \"firebase/firestore\";\n\n// Firebase configuration object\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDnqFstg7haG60B6vUWbn7hvAFFs5fjSZw\",\n  authDomain: \"fir-d784c.firebaseapp.com\",\n  projectId: \"fir-d784c\",\n  storageBucket: \"fir-d784c.appspot.com\",\n  messagingSenderId: \"1081359533358\",\n  appId: \"1:1081359533358:web:50c99e54ab365991ebe6bf\"\n};\n\n\n// const app = initializeApp(firebaseConfig);\n// const db = getFirestore(app);\n\n// const colref = collection(db, 'users');\n\n// document.addEventListener('DOMContentLoaded', () => {\n//     const form = document.getElementById('dataForm');\n//     if (form) {\n//         form.addEventListener('submit',  (e) => {\n//             e.preventDefault();\n//             const name = document.getElementById('name').value;\n//             const age = document.getElementById('age').value;\n//             try {\n//                  addDoc(colref, { name, age });\n//                 alert('Data added successfully!');\n//                 form.reset();\n//             } catch (error) {\n//                 console.error(\"Error adding document: \", error);\n//             }\n//         });\n//     }\n// });\n\nconst app=initializeApp(firebaseConfig);\nconst db=getFirestore(app);\nconst colref=collection(db,'users');\n\n\ndocument.addEventListener('DOMContentLoaded',()=>{\nconst form=document.getElementById('dataForm');\nconst userListElement = document.getElementById('userList');\nconst deleteForm=document.getElementById('deleteForm');\n\n\nif(form)\n{\n  form.addEventListener('submit',(e)=>{\n\n    e.preventDefault();\n    const name=document.getElementById('name').value;\n    const age=document.getElementById('age').value;\n    try{\n      addDoc(colref,{name,age});\n      alert('form added success');\n      form.reset();\n    }catch(error)\n    {\n      console.error(\"Error adding document: \", error);\n \n    }\n  })\n}\nif(userListElement){\nonSnapshot(colref,(snapshot) => {\n  const users = snapshot.docs.map(doc => `<p>${doc.data().name} - ${doc.data().age}</p>`);\n  document.getElementById('userList').innerHTML = users;\n});\n}\n\nif(deleteForm)\n  {\n    deleteForm.addEventListener('submit',(e)=>\n    {\n      e.preventDefault();\n              const nameToDelete = document.getElementById('deleteName').value;\n        try{\n          const q=query(colref,where('name',\"==\".nameToDelete));\n          const querySnapshot =  getDocs(q);\n  \n    \n                  querySnapshot.forEach( (doc) => {\n                      deleteDoc(doc.ref);\n                  });\n                  alert('Data deleted successfully!');\n                  deleteForm.reset();\n        }\n        catch(error)\n        {\n  \n        }\n    \n   })\n  }\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}