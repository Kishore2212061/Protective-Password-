{"ast":null,"code":"import { initializeApp } from \"firebase/app\";\nimport { getFirestore, collection, addDoc, onSnapshot, query, where, getDocs, deleteDoc } from \"firebase/firestore\";\n\n// Firebase configuration object\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDnqFstg7haG60B6vUWbn7hvAFFs5fjSZw\",\n  authDomain: \"fir-d784c.firebaseapp.com\",\n  projectId: \"fir-d784c\",\n  storageBucket: \"fir-d784c.appspot.com\",\n  messagingSenderId: \"1081359533358\",\n  appId: \"1:1081359533358:web:50c99e54ab365991ebe6bf\"\n};\nconst app = initializeApp(firebaseConfig);\nconst db = getFirestore(app);\nconst colref = collection(db, 'users');\nconst form = document.getElementById('dataForm');\nconst userListElement = document.getElementById('userList');\nconst deleteForm = document.getElementById('deleteForm');\nif (form) {\n  form.addEventListener('submit', e => {\n    e.preventDefault();\n    const name = document.getElementById('name').value;\n    const age = document.getElementById('age').value;\n    try {\n      addDoc(colref, {\n        name,\n        age\n      });\n      alert('form added success');\n      form.reset();\n    } catch (error) {\n      console.error(\"Error adding document: \", error);\n    }\n  });\n}\nif (userListElement) {\n  onSnapshot(colref, snapshot => {\n    const users = snapshot.docs.map(doc => `<p>${doc.data().name} - ${doc.data().age}</p>`);\n    document.getElementById('userList').innerHTML = users;\n  });\n}\nif (deleteForm) {\n  deleteForm.addEventListener('submit', e => {\n    e.preventDefault();\n    const nameToDelete = document.getElementById('deleteName').value;\n    const q = query(colref, where('name', \"==\", nameToDelete));\n    getDocs(q).then(queryy => {\n      if (queryy.empty) {\n        alert('No user found with that name!');\n      } else {\n        queryy.forEach(doc => {\n          deleteDoc(doc.ref).then(() => {\n            alert('Data deleted successfully!');\n          }).catch(error => {});\n        });\n      }\n    }).catch(error => {\n      console.error(\"Error getting documents: \", error);\n    });\n  });\n}","map":{"version":3,"names":["initializeApp","getFirestore","collection","addDoc","onSnapshot","query","where","getDocs","deleteDoc","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","app","db","colref","form","document","getElementById","userListElement","deleteForm","addEventListener","e","preventDefault","name","value","age","alert","reset","error","console","snapshot","users","docs","map","doc","data","innerHTML","nameToDelete","q","then","queryy","empty","forEach","ref","catch"],"sources":["C:/Users/kishore/demo/src/index.js"],"sourcesContent":["import { initializeApp } from \"firebase/app\";\nimport { getFirestore, collection, addDoc,onSnapshot,query, where, getDocs, deleteDoc } from \"firebase/firestore\";\n\n// Firebase configuration object\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDnqFstg7haG60B6vUWbn7hvAFFs5fjSZw\",\n  authDomain: \"fir-d784c.firebaseapp.com\",\n  projectId: \"fir-d784c\",\n  storageBucket: \"fir-d784c.appspot.com\",\n  messagingSenderId: \"1081359533358\",\n  appId: \"1:1081359533358:web:50c99e54ab365991ebe6bf\"\n};\nconst app=initializeApp(firebaseConfig);\nconst db=getFirestore(app);\nconst colref=collection(db,'users');\n\n\nconst form=document.getElementById('dataForm');\nconst userListElement = document.getElementById('userList');\nconst deleteForm=document.getElementById('deleteForm');\n\n\nif(form)\n{\n  form.addEventListener('submit',(e)=>{\n\n    e.preventDefault();\n    const name=document.getElementById('name').value;\n    const age=document.getElementById('age').value;\n    try{\n      addDoc(colref,{name,age});\n      alert('form added success');\n      form.reset();\n    }catch(error)\n    {\n      console.error(\"Error adding document: \", error);\n \n    }\n  })\n}\nif(userListElement){\nonSnapshot(colref,(snapshot) => {\n  const users = snapshot.docs.map(doc => `<p>${doc.data().name} - ${doc.data().age}</p>`);\n  document.getElementById('userList').innerHTML = users;\n});\n}\n\nif (deleteForm) {\n  deleteForm.addEventListener('submit', (e) => {\n      e.preventDefault();\n      const nameToDelete = document.getElementById('deleteName').value;\n      \n     \n\nconst q=query(colref,where('name',\"==\",nameToDelete));\ngetDocs(q).then((queryy)=>{\nif(queryy.empty){\n  alert('No user found with that name!');\n\n}\nelse{\nqueryy.forEach((doc)=>{\n  deleteDoc(doc.ref).then(()=>{\n    alert('Data deleted successfully!');\n  }).catch((error)=>{\n\n  }\n  )\n})\n}\n}).catch((error)=>{\n  console.error(\"Error getting documents: \", error);\n\n})\n  });\n}\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}